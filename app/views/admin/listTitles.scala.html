@(searchForm:Form[controllers.SearchController.Search])
@adminMain(searchForm){


<!-- Button -->
<div class='row' align="right">

</div>
<!-- Members -->
<div class='row' style="margin-top:20px;padding-top:10px; border-top: 1px dashed rgba(86, 61, 124, 0.2);">

	<div class="col-md-12">
		<div class='row'>

			<div class="col-md-6">
				<input id="select_all_titles" type='checkbox' />
				<b>Tous Choisir</b>
				<a href="@routes.AdminController.newTitle()" class="btn btn-primary">Nouveau Titre</a>
			</div>
			<div class="col-md-6" align="right">
				<div class="btn-group">
					<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						Opération
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						
						<li>
							<a href="#">Supprimer</a>
						</li>
					</ul>
				</div>

			</div>
		</div>
	</div>

</div>
<div class='row'>
	<div class="col-md-12">
		<table class="table table-hover">
			<thead>
				<tr>
					<th></th>
					<th>Titre</th>
					<th>Points</th>
				</tr>
			</thead>
			<tbody>
				@for(title <- Title.findListTitles){
				<tr>
					<td>
						<input class="title_check_box" type='checkbox' />
					</td>
					<th>@title.titleName</th>
					<th>@title.exp</th>
					
					<td>
						<div class="btn-group">
							<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
								Opération
								<span class="caret"></span>
							</button>
							<ul class="dropdown-menu" role="menu">
								<li>
									<a href="@routes.AdminController.modifyTitle(title)">Modifier</a>
								</li>
								<li>
									<a href="#" onclick="javascript:del('@routes.AdminController.deleteTitle(title.idTitle.toString)')">Supprimer</a>
								</li>
							</ul>
						</div>
					</td>
				</tr>
			}
			</tbody>
		</table>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function(){
		$("#select_all_titles").click(function(){
			if(this.checked){
				$(".title_check_box").each(function(){
					this.checked = true;
				})
			}else{
				$(".title_check_box").each(function(){
					this.checked = false;
				})

			}
		});

	});
	function del(urlToDelete) {
		$.ajax({
			url: urlToDelete,
			type: 'DELETE',
			success: function(results) { 
				// Refresh the page
				location.reload();
				
			}
		});
	}
</script>

}